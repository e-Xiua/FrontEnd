<div class="chat-layout-container">
  <app-chat-sidebar *ngIf="isSidebarEnabled"
    class="chat-sidebar-wrapper">
  </app-chat-sidebar>

  <!-- Floating Modal Component -->
  <app-floating-chat-modal
    *ngIf="isModalEnabled"
    class="chat-modal-wrapper">
  </app-floating-chat-modal>

  <!-- Floating Tabs for hidden components -->
  <!-- Sidebar Tab - Vertical "Proveedores" (Lista para filtrar/seleccionar) -->
  <app-floating-tab
    *ngIf="isSidebarEnabled && !(layoutState$ | async)?.sidebarVisible"
    label="Proveedores"
    orientation="vertical"
    position="left"
    [visible]="true"
    iconClass="fas fa-store"
    customAriaLabel="Mostrar lista de proveedores para seleccionar"
    (tabClick)="showSidebar()">
  </app-floating-tab>

  <!-- Modal Tab - Chat en esquina inferior derecha de la pantalla -->
  <app-floating-tab
    *ngIf="isModalEnabled && !(layoutState$ | async)?.modalVisible"
    label="Chat"
    orientation="horizontal"
    position="bottom"
    [visible]="true"
    iconClass="fas fa-comments"
    customAriaLabel="Mostrar ventana de chat con contactos y mensajes"
    class="chat-tab-bottom-right"
    (tabClick)="showModal()">
  </app-floating-tab>

  <!-- Overlay for mobile when sidebar is open -->
  <button
    *ngIf="(layoutState$ | async)?.sidebarVisible && isMobileView"
    class="mobile-overlay"
    (click)="hideSidebar()"
    type="button"
    tabindex="0"
    aria-label="Cerrar barra lateral"
  ></button>

</div>
