<div class="dashboard-container">
  <div class="header-section">
    <div class="header-content">
      <h1 class="main-title">Dashboard I-Wellness</h1>
      <p class="subtitle">
        Análisis completo del turismo de bienestar en Costa Rica
      </p>
    </div>
  </div>

  <div class="stats-grid">
    <div class="stat-card stat-card-primary">
      <div class="stat-header">
        <div class="stat-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.11 3.89 23 5 23H19C20.11 23 21 22.11 21 21V9M19 9H14V4H19V9Z" fill="currentColor"/>
          </svg>
        </div>
        <div class="stat-trend positive">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M7 14L12 9L17 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          +{{ metrics.crecimientoVisitantes }}%
        </div>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ formatNumber(metrics.visitantesRegistrados) }}</div>
        <div class="stat-label">Visitantes Registrados</div>
      </div>
    </div>

    <div class="stat-card stat-card-success">
      <div class="stat-header">
        <div class="stat-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M12 2L2 7L12 12L22 7L12 2Z" fill="currentColor"/>
            <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="stat-trend positive">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M7 14L12 9L17 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          +{{ metrics.crecimientoProductos }}%
        </div>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ metrics.productosOfrecidos }}</div>
        <div class="stat-label">Productos Ofrecidos</div>
      </div>
    </div>

    <div class="stat-card stat-card-warning">
      <div class="stat-header">
        <div class="stat-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z" fill="currentColor"/>
            <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="stat-trend positive">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M7 14L12 9L17 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          +{{ metrics.crecimientoTemporada }}%
        </div>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ metrics.temporadaAlta }}%</div>
        <div class="stat-label">Temporada Más Visitada</div>
      </div>
    </div>

    <div class="stat-card stat-card-info">
      <div class="stat-header">
        <div class="stat-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z" fill="currentColor"/>
          </svg>
        </div>
        <div class="stat-trend positive">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M7 14L12 9L17 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          +{{ metrics.crecimientoActividad }}%
        </div>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ metrics.actividadPopular }}%</div>
        <div class="stat-label">Actividad Más Popular</div>
      </div>
    </div>

    <div class="stat-card stat-card-purple">
      <div class="stat-header">
        <div class="stat-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20Z" fill="currentColor"/>
            <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="stat-trend positive">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M7 14L12 9L17 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          +{{ metrics.crecimientoIngresos }}%
        </div>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ formatCurrency(metrics.ingresosMensuales) }}</div>
        <div class="stat-label">Ingresos Mensuales</div>
      </div>
    </div>

    <div class="stat-card stat-card-green">
      <div class="stat-header">
        <div class="stat-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="stat-trend positive">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M7 14L12 9L17 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          +{{ metrics.crecimientoReservas }}%
        </div>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ metrics.reservasActivas }}</div>
        <div class="stat-label">Reservas Activas</div>
      </div>
    </div>

    <div class="stat-card stat-card-orange">
      <div class="stat-header">
        <div class="stat-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M12 2L15.09 8.26L22 9L17 14L18.18 21L12 17.77L5.82 21L7 14L2 9L8.91 8.26L12 2Z" fill="currentColor"/>
          </svg>
        </div>
        <div class="stat-trend positive">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M7 14L12 9L17 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          +{{ metrics.crecimientoSatisfaccion }}%
        </div>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ metrics.satisfaccionCliente }}/5</div>
        <div class="stat-label">Satisfacción Cliente</div>
      </div>
    </div>

    <div class="stat-card stat-card-indigo">
      <div class="stat-header">
        <div class="stat-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21M13 7C13 9.20914 11.2091 11 9 11C6.79086 11 5 9.20914 5 7C5 4.79086 6.79086 3 9 3C11.2091 3 13 4.79086 13 7ZM23 21V19C22.9993 18.1137 22.7044 17.2528 22.1614 16.5523C21.6184 15.8519 20.8581 15.3516 20 15.13M16 3.13C16.8604 3.35031 17.623 3.85071 18.1676 4.55232C18.7122 5.25392 19.0078 6.11683 19.0078 7.005C19.0078 7.89317 18.7122 8.75608 18.1676 9.45768C17.623 10.1593 16.8604 10.6597 16 10.88" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="stat-trend positive">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M7 14L12 9L17 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          +{{ metrics.crecimientoProveedores }}%
        </div>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ metrics.proveedoresActivos }}</div>
        <div class="stat-label">Proveedores Activos</div>
      </div>
    </div>
  </div>

  <div class="dashboard-content">
    <div class="content-grid">
      <div class="content-section">
        <div class="section-header">
          <h2 class="section-title">Análisis de Productos</h2>
        </div>
        <div class="charts-row">
          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Productos Ofrecidos</h3>
              <div class="chart-badge">Actualizado</div>
            </div>
            <div class="chart-wrapper">
              <ngx-charts-pie-chart
                [view]="view"
                [results]="productosData"
                [scheme]="colorScheme"
                [doughnut]="true"
                [arcWidth]="0.6"
                [legend]="true"
                [labels]="true"
                [legendPosition]="legendPosition"
                [legendTitle]="'Categorías de Productos'"
                (select)="onSelect($event)"
                (activate)="onActivate($event)"
                (deactivate)="onDeactivate($event)"
              >
              </ngx-charts-pie-chart>
            </div>
            <div class="chart-description">
              <p class="chart-summary">{{ productosSummary.description }}</p>
              <div class="chart-stats">
                <div class="stat-item">
                  <span class="stat-label">Total: {{ productosSummary.total }}%</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Top: {{ productosSummary.topCategory }} ({{ productosSummary.topPercentage }}%)</span>
                </div>
              </div>
            </div>
            <div *ngIf="selectedItemDetails && selectedItemDetails.category === 'Productos'" class="selected-item-details">
              <h4>{{ selectedItemDetails.name }}</h4>
              <p>{{ selectedItemDetails.description }}</p>
              <div class="detail-value">{{ selectedItemDetails.value }}%</div>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Nacionalidades</h3>
              <div class="chart-badge">Actualizado</div>
            </div>
            <div class="chart-wrapper">
              <ngx-charts-pie-chart
                [view]="view"
                [results]="nacionalidadesData"
                [scheme]="colorScheme"
                [arcWidth]="0.6"
                [legend]="true"
                [labels]="true"
                [legendPosition]="legendPosition"
                [legendTitle]="'Países de Origen'"
                (select)="onSelect($event)"
                (activate)="onActivate($event)"
                (deactivate)="onDeactivate($event)"
              >
              </ngx-charts-pie-chart>
            </div>
            <div class="chart-description">
              <p class="chart-summary">{{ nacionalidadesSummary.description }}</p>
              <div class="chart-stats">
                <div class="stat-item">
                  <span class="stat-label">Total: {{ nacionalidadesSummary.total }}%</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Top: {{ nacionalidadesSummary.topCountry }} ({{ nacionalidadesSummary.topPercentage }}%)</span>
                </div>
              </div>
            </div>
            <div *ngIf="selectedItemDetails && selectedItemDetails.category === 'Nacionalidades'" class="selected-item-details">
              <h4>{{ selectedItemDetails.name }}</h4>
              <p>{{ selectedItemDetails.description }}</p>
              <div class="detail-value">{{ selectedItemDetails.value }}%</div>
            </div>
          </div>
        </div>
      </div>

      <div class="content-section">
        <div class="section-header">
          <h2 class="section-title">Actividades y Temporadas</h2>
        </div>
        <div class="charts-row">
          <div class="chart-card chart-card-large">
            <div class="chart-header">
              <h3 class="chart-title">Actividades Más Frecuentes</h3>
              <div class="chart-badge">Tendencia</div>
            </div>
            <div class="chart-wrapper">
              <ngx-charts-bar-vertical
                [view]="view"
                [results]="actividadesData"
                [scheme]="colorScheme"
                [xAxis]="true"
                [yAxis]="true"
                [showXAxisLabel]="true"
                [showYAxisLabel]="true"
                [xAxisLabel]="'Actividades'"
                [yAxisLabel]="'Frecuencia (Miles)'"
                [showDataLabel]="true"
                [dataLabelFormatting]="formatDataLabel"
                (select)="onSelect($event)"
                (activate)="onActivate($event)"
                (deactivate)="onDeactivate($event)"
              >
              </ngx-charts-bar-vertical>
            </div>
            <div class="chart-description">
              <p class="chart-summary">{{ actividadesSummary.description }}</p>
              <div class="chart-stats">
                <div class="stat-item">
                  <span class="stat-label">Total: {{ actividadesSummary.total }}K</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Top: {{ actividadesSummary.topActivity }} ({{ actividadesSummary.topValue }}K)</span>
                </div>
              </div>
            </div>
            <div *ngIf="selectedItemDetails && selectedItemDetails.category === 'Actividades'" class="selected-item-details">
              <h4>{{ selectedItemDetails.name }}</h4>
              <p>{{ selectedItemDetails.description }}</p>
              <div class="detail-value">{{ selectedItemDetails.value }}K</div>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Visitas por Temporada</h3>
              <div class="chart-badge">Anual</div>
            </div>
            <div class="chart-wrapper">
              <ngx-charts-bar-vertical
                [view]="view"
                [results]="temporadasData"
                [scheme]="colorScheme"
                [xAxis]="true"
                [yAxis]="true"
                [showXAxisLabel]="true"
                [showYAxisLabel]="true"
                [xAxisLabel]="'Temporadas'"
                [yAxisLabel]="'Visitas (Miles)'"
                [showDataLabel]="true"
                [dataLabelFormatting]="formatDataLabel"
                (select)="onSelect($event)"
                (activate)="onActivate($event)"
                (deactivate)="onDeactivate($event)"
              >
              </ngx-charts-bar-vertical>
            </div>
            <div class="chart-description">
              <p class="chart-summary">{{ temporadasSummary.description }}</p>
              <div class="chart-stats">
                <div class="stat-item">
                  <span class="stat-label">Total: {{ temporadasSummary.total }}K</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Top: {{ temporadasSummary.topSeason }} ({{ temporadasSummary.topValue }}K)</span>
                </div>
              </div>
            </div>
            <div *ngIf="selectedItemDetails && selectedItemDetails.category === 'Temporadas'" class="selected-item-details">
              <h4>{{ selectedItemDetails.name }}</h4>
              <p>{{ selectedItemDetails.description }}</p>
              <div class="detail-value">{{ selectedItemDetails.value }}K</div>
            </div>
          </div>
        </div>
      </div>

      <div class="content-section">
        <div class="section-header">
          <h2 class="section-title">Finanzas y Reservas</h2>
          
        </div>
        <div class="charts-row">
          <div class="chart-card chart-card-large">
            <div class="chart-header">
              <h3 class="chart-title">Ingresos Mensuales</h3>
              <div class="chart-badge">2024</div>
            </div>
            <div class="chart-wrapper">
              <ngx-charts-bar-vertical
                [view]="view"
                [results]="ingresosMensualesData"
                [scheme]="colorScheme"
                [xAxis]="true"
                [yAxis]="true"
                [showXAxisLabel]="true"
                [showYAxisLabel]="true"
                [xAxisLabel]="'Meses'"
                [yAxisLabel]="'Ingresos (₡)'"
                [showDataLabel]="true"
                [dataLabelFormatting]="formatCurrencyLabel"
                (select)="onSelect($event)"
                (activate)="onActivate($event)"
                (deactivate)="onDeactivate($event)"
              >
              </ngx-charts-bar-vertical>
            </div>
            <div class="chart-description">
              <p class="chart-summary">{{ ingresosSummary.description }}</p>
              <div class="chart-stats">
                <div class="stat-item">
                  <span class="stat-label">Promedio: {{ formatCurrency(ingresosSummary.average) }}</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Pico: {{ ingresosSummary.peakMonth }} ({{ formatCurrency(ingresosSummary.peakValue) }})</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Crecimiento: +{{ ingresosSummary.growth }}%</span>
                </div>
              </div>
            </div>
            <div *ngIf="selectedItemDetails && selectedItemDetails.category === 'Ingresos'" class="selected-item-details">
              <h4>{{ selectedItemDetails.name }}</h4>
              <p>{{ selectedItemDetails.description }}</p>
              <div class="detail-value">{{ formatCurrency(selectedItemDetails.value) }}</div>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Satisfacción del Cliente</h3>
              <div class="chart-badge">Promedio</div>
            </div>
            <div class="chart-wrapper">
              <ngx-charts-pie-chart
                [view]="view"
                [results]="satisfaccionData"
                [scheme]="colorScheme"
                [arcWidth]="0.6"
                [legend]="true"
                [labels]="true" 
                [legendPosition]="legendPosition"
                [legendTitle]="'Niveles de Satisfacción'"
                (select)="onSelect($event)"
                (activate)="onActivate($event)"
                (deactivate)="onDeactivate($event)"
              >
              </ngx-charts-pie-chart>
            </div>
            <div class="chart-description">
              <p class="chart-summary">{{ satisfaccionSummary.description }}</p>
              <div class="chart-stats">
                <div class="stat-item">
                  <span class="stat-label">Promedio: {{ satisfaccionSummary.average }}/5</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Top: {{ satisfaccionSummary.topRating }} ({{ satisfaccionSummary.topPercentage }}%)</span>
                </div>
              </div>
            </div>
            <div *ngIf="selectedItemDetails && selectedItemDetails.category === 'Satisfacción'" class="selected-item-details">
              <h4>{{ selectedItemDetails.name }}</h4>
              <p>{{ selectedItemDetails.description }}</p>
              <div class="detail-value">{{ selectedItemDetails.value }}%</div>
            </div>
          </div>
        </div>
      </div>

      <div class="content-section">
        <div class="section-header">
          <h2 class="section-title">Análisis Detallado</h2>
        </div>
        <div class="charts-row">
          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Reservas por Mes</h3>
              <div class="chart-badge">Stacked</div>
            </div>
            <div class="chart-wrapper">
              <ngx-charts-bar-vertical-stacked
                [view]="view"
                [results]="reservasPorMesData"
                [scheme]="colorScheme"
                [xAxis]="true"
                [yAxis]="true"
                [showXAxisLabel]="true"
                [showYAxisLabel]="true"
                [xAxisLabel]="'Meses'"
                [yAxisLabel]="'Número de Reservas'"
                [legend]="true"
                [legendPosition]="legendPosition"
                [legendTitle]="'Estado de Reservas'"
                (select)="onSelect($event)"
                (activate)="onActivate($event)"
                (deactivate)="onDeactivate($event)"
              >
              </ngx-charts-bar-vertical-stacked>
            </div>
            <div class="chart-description">
              <p class="chart-summary">Análisis detallado del estado de las reservas por mes, mostrando la distribución entre confirmadas, pendientes y canceladas. Las reservas confirmadas representan el mayor porcentaje en todos los meses.</p>
              <div class="chart-stats">
                <div class="stat-item">
                  <span class="stat-label">Total Confirmadas: 424</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Total Pendientes: 100</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Total Canceladas: 19</span>
                </div>
              </div>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Proveedores por Región</h3>
              <div class="chart-badge">Distribución</div>
            </div>
            <div class="chart-wrapper">
              <ngx-charts-pie-chart
                [view]="view"
                [results]="proveedoresPorRegionData"
                [scheme]="colorScheme"
                [arcWidth]="0.6"
                [legend]="true"
                [labels]="true" 
                [legendPosition]="legendPosition"
                [legendTitle]="'Regiones de Costa Rica'"
                (select)="onSelect($event)"
                (activate)="onActivate($event)"
                (deactivate)="onDeactivate($event)"
              >
              </ngx-charts-pie-chart>
            </div>
            <div class="chart-description">
              <p class="chart-summary">Distribución geográfica de los proveedores de servicios de bienestar en Costa Rica. San José concentra la mayor cantidad de proveedores, seguido por Alajuela y Cartago.</p>
              <div class="chart-stats">
                <div class="stat-item">
                  <span class="stat-label">Total Proveedores: 45</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Región Principal: San José (33%)</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Cobertura: 7 provincias</span>
                </div>
              </div>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Tendencias Temporales</h3>
              <div class="chart-badge">Histórico</div>
            </div>
            <div class="chart-wrapper">
              <ngx-charts-bar-vertical
                [view]="view"
                [results]="tendenciasTemporalesData"
                [scheme]="colorScheme"
                [xAxis]="true"
                [yAxis]="true"
                [showXAxisLabel]="true"
                [showYAxisLabel]="true"
                [xAxisLabel]="'Años'"
                [yAxisLabel]="'Visitantes (Miles)'"
                [showDataLabel]="true"
                [dataLabelFormatting]="formatDataLabel"
                (select)="onSelect($event)"
                (activate)="onActivate($event)"
                (deactivate)="onDeactivate($event)"
              >
              </ngx-charts-bar-vertical>
            </div>
            <div class="chart-description">
              <p class="chart-summary">Evolución histórica del número de visitantes en los últimos tres años. Se observa un crecimiento constante del 16.7% anual, indicando una tendencia positiva sostenida en el turismo de bienestar.</p>
              <div class="chart-stats">
                <div class="stat-item">
                  <span class="stat-label">Crecimiento 2022-2023: +16.7%</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Crecimiento 2023-2024: +16.2%</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Crecimiento Total: +35.6%</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="content-section">
        <div class="section-header">
          <h2 class="section-title">Demografía y Alojamiento</h2>
        </div>
        <div class="charts-row">
          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Distribución por Edad</h3>
              <div class="chart-badge">Rangos</div>
            </div>
            <div class="chart-wrapper">
              <ngx-charts-bar-horizontal
                [view]="view"
                [results]="edadTuristasData"
                [scheme]="colorScheme"
                [xAxis]="true"
                [yAxis]="true"
                [showXAxisLabel]="true"
                [showYAxisLabel]="true"
                [xAxisLabel]="'Porcentaje (%)'"
                [yAxisLabel]="'Rangos de Edad'"
                [showDataLabel]="true"
                [dataLabelFormatting]="formatPercentageLabel"
                (select)="onSelect($event)"
                (activate)="onActivate($event)"
                (deactivate)="onDeactivate($event)"
              >
              </ngx-charts-bar-horizontal>
            </div>
            <div class="chart-description">
              <p class="chart-summary">Perfil demográfico de los turistas de bienestar por grupos de edad. El grupo de 26-35 años representa el segmento más importante, seguido por el grupo de 36-45 años, indicando una preferencia por experiencias de bienestar en adultos jóvenes y de mediana edad.</p>
              <div class="chart-stats">
                <div class="stat-item">
                  <span class="stat-label">Grupo Principal: 26-35 años (35%)</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Grupo Secundario: 36-45 años (28%)</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Adultos Jóvenes: 63% (18-45 años)</span>
                </div>
              </div>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">Tipos de Alojamiento</h3>
              <div class="chart-badge">Categorías</div>
            </div>
            <div class="chart-wrapper">
              <ngx-charts-pie-chart
                [view]="view"
                [results]="tipoAlojamientoData"
                [scheme]="colorScheme"
                [arcWidth]="0.6"
                [legend]="true"
                [labels]="true" 
                [legendPosition]="legendPosition"
                [legendTitle]="'Categorías de Alojamiento'"
                (select)="onSelect($event)"
                (activate)="onActivate($event)"
                (deactivate)="onDeactivate($event)"
              >
              </ngx-charts-pie-chart>
            </div>
            <div class="chart-description">
              <p class="chart-summary">Preferencias de alojamiento en el turismo de bienestar. Los eco-lodges dominan el mercado con un 40%, seguidos por glamping y hoteles boutique, reflejando la preferencia por experiencias sostenibles y de lujo en la naturaleza.</p>
              <div class="chart-stats">
                <div class="stat-item">
                  <span class="stat-label">Eco-lodges: 40%</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Glamping: 25%</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Hotel Boutique: 20%</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Otros: 15%</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="content-section">
        <div class="section-header">
          <h2 class="section-title">Actividad Reciente y Destinos</h2>
        </div>
        <div class="activity-destinations-row">
          <div class="activity-card">
            <div class="activity-header">
              <h3 class="activity-title">Actividad Reciente</h3>
              <div class="activity-badge">En vivo</div>
            </div>
            <div class="activity-list">
              <div *ngFor="let activity of recentActivities" class="activity-item">
                <div class="activity-icon" [ngClass]="'activity-' + activity.status">
                  <svg *ngIf="activity.type === 'reserva'" width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <svg *ngIf="activity.type === 'usuario'" width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <svg *ngIf="activity.type === 'servicio'" width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M12 2L2 7L12 12L22 7L12 2Z" fill="currentColor"/>
                    <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <svg *ngIf="activity.type === 'pago'" width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" fill="currentColor"/>
                    <path d="M12 6V12L16 14" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <svg *ngIf="activity.type === 'review'" width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M12 2L15.09 8.26L22 9L17 14L18.18 21L12 17.77L5.82 21L7 14L2 9L8.91 8.26L12 2Z" fill="currentColor"/>
                  </svg>
                </div>
                <div class="activity-content">
                  <p class="activity-message">{{ activity.message }}</p>
                  <span class="activity-time">{{ activity.time }}</span>
                </div>
              </div>
            </div>
          </div>

          <div class="destinations-card">
            <div class="destinations-header">
              <h3 class="destinations-title">Destinos Populares</h3>
              <div class="destinations-badge">Top 5</div>
            </div>
            <div class="destinations-list">
              <div *ngFor="let destination of topDestinations" class="destination-item">
                <div class="destination-image">
                  <img [src]="destination.image" [alt]="destination.name" />
                </div>
                <div class="destination-content">
                  <h4 class="destination-name">{{ destination.name }}</h4>
                  <p class="destination-visitors">{{ formatNumber(destination.visitors) }} visitantes</p>
                  <div class="destination-growth">
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none">
                      <path d="M7 14L12 9L17 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    +{{ destination.growth }}%
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="weather-card">
            <div class="weather-header">
              <h3 class="weather-title">Clima Actual</h3>
              <div class="weather-badge">{{ weatherData.location }}</div>
            </div>
            <div class="weather-content">
              <div class="weather-main">
                <div class="weather-temp">{{ weatherData.temperature }}°C</div>
                <div class="weather-condition">{{ weatherData.condition }}</div>
              </div>
              <div class="weather-details">
                <div class="weather-detail">
                  <span class="weather-label">Humedad</span>
                  <span class="weather-value">{{ weatherData.humidity }}%</span>
                </div>
                <div class="weather-detail">
                  <span class="weather-label">Viento</span>
                  <span class="weather-value">{{ weatherData.windSpeed }} km/h</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
